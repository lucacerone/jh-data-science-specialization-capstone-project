---
title: "Week 02 - Data Exploration"
author: "Luca Cerone"
output: 
html_document:
code_folding: hide
---

```{r setup}
suppressMessages({
  knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, error = FALSE)
  library(readr)
  library(parallel)
  library(doParallel)
  library(iterators)
  library(tm)
  library(ngram)
  library(dplyr)
  library(data.table)
  library(stringr)
})
```

```{r}
unagg <- fread("../data/en_US_ngrams/2ngrams_full_non_aggregated.tsv", sep = "\t")
colnames(unagg) <- c("ngram","next_word","freq")
unagg <- unagg[, .( freq = sum(freq) ), by = c("ngram","next_word")][order(ngram, -freq)]
unagg[ , prob := freq / sum(freq), by = c("ngram")][, cumprob := cumsum(prob), by = "ngram"] 
```
